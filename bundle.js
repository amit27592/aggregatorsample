var PhonePe=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){let t,n,r,i,o;!function(e){e.READ_SMS="READ_SMS",e.LOCATION="LOCATION",e.CAMERA="CAMERA",e.WRITE_EXTERNAL_STORAGE="WRITE_EXTERNAL_STORAGE",e.READ_EXTERNAL_STORAGE="READ_EXTERNAL_STORAGE"}(t=e.Permission||(e.Permission={})),function(e){e.web="web",e.native="native"}(n=e.Species||(e.Species={})),function(e){e.ios="ios",e.android="android"}(r=e.OS||(e.OS={})),function(e){e.ios="phonepe-ios",e.android="phonepe-android"}(i=e.OSUserAgent||(e.OSUserAgent={})),function(e){e.email="email",e.name="name",e.phoneNumber="phoneNumber",e.isEmailVerified="isEmailVerified"}(o=e.UserDetail||(e.UserDetail={}))}(t.ExternalConstants||(t.ExternalConstants={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),i=n(4),o=n(3),s=n(11);class a{static callback(e,t,n,r){i.Logger.logd("PhonePe","phonepeCallback called! with callbackName = "+e);let s=a.promiseMapping[e];s&&("1"===t?s[o.PhonePeSDKWebConstants.General.resolve](n):s[o.PhonePeSDKWebConstants.General.reject](r),delete a.promiseMapping[e])}static callNative(e,t,n){if(!s.MethodVersioningHandler.isMethodSupported(e))return void i.Logger.logd("PhonePe","Sorry! This method is not supported with PhonePe app's version");i.Logger.logd("PhonePe","Trying to call methodName = "+e);let o=window.webkit;if(r.PhonePeUtils.isValidMethodOniOS(e))o.messageHandlers[e].postMessage(n);else{window[t][e](JSON.stringify(n))}}static storePromiseAndCallNative(e,t,n){return new Promise((i,s)=>{let a=r.PhonePeUtils.createuuid();n[o.PhonePeSDKWebConstants.General.callbackId]=a,this.callNative(e,t,n),this.promiseMapping[a]={resolve:i,reject:s}})}}a.promiseMapping={},t.MessagingHandler=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){let t,n,r,i,o,s,a,c,u;e.sdkVersion="0.1",e.PhonePeSDKRNMajorVersion=0,e.PhonePeSDKRNMinorVersion=53,e.data_preferences="database_versions",e.PhonePeSDKVersion=4,function(e){e.confirmationScreenDuration=400,e.discoveryContextMode="PEER_TO_MERCHANT",e.paymentScreenName="PAY",e.v1="v1",e.v2="v2"}(t=e.General||(e.General={})),function(e){e.invalidParams="PARAMS_INVALID_OR_INSUFFICIENT"}(n=e.ErrorCode||(e.ErrorCode={})),function(e){e.payments=103,e.transactionDetails=105}(r=e.ActivityID||(e.ActivityID={})),function(e){e.name="PermissionsBridge",e.seekPermission="seekPermission",e.openSettingsPage="openSettingsPageForPermission",e.androidPrefix="android.permission.",e.locationPermissionName="ACCESS_FINE_LOCATION",e.kPermission="permission"}(i=e.PermissionsBridge||(e.PermissionsBridge={})),function(e){e.bridgeName="AnalyticsBridge",e.methodName="logMerchantEvent",e.kName="name",e.kMetadata="metadata",e.kGroupingKey="groupingKey"}(o=e.AnalyticsBridge||(e.AnalyticsBridge={})),function(e){e.bridgeName="AuthBridge",e.fetchGrantToken="fetchGrantToken",e.fetchAuthToken="fetchAuthToken"}(s=e.AuthBridge||(e.AuthBridge={})),function(e){e.bridgeName="OrderActionBridge",e.methodName="reserveOrder",e.openPaymentsPageForReservedOrder="openPaymentsPageForReservedOrder"}(a=e.OrderActionBridge||(e.OrderActionBridge={})),function(e){e.bridgeName="FilePickerBridge",e.selectFile="selectFile",e.readFile="readFile"}(c=e.FilePickerBridge||(e.FilePickerBridge={})),function(e){e.bridgeName="CameraBridge",e.scanQRCode="scanQRCode",e.startCamera="startCamera"}(u=e.CameraBridge||(e.CameraBridge={}))}(t.InternalConstants||(t.InternalConstants={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){let t,n,r,i,o,s,a,c,u;!function(e){e.reject="reject",e.resolve="resolve",e.callbackId="callbackId",e.prefName="prefName",e.key="key",e.defaultValue="defaultValue",e.value="value",e.min="min",e.max="max"}(t=e.General||(e.General={})),function(e){e.androidBridgeName="PreferencesBridge",e.getItem="getItem",e.setItem="setItem",e.removeItem="removeItem",e.removeItemAndroid="removeKey"}(n=e.Preferences||(e.Preferences={})),function(e){e.supportedVersion="getSupportedWebSDKVersion",e.androidBridgeName="MetadataBridge"}(r=e.Metadata||(e.Metadata={})),function(e){e.androidBridgeName="LocationBridge",e.startUpdatingLocation="startUpdatingLocation",e.stopUpdatingLocation="stopUpdatingLocation",e.getCurrentLocation="getCurrentLocation",e.locationSuccessEventKey="locationUpdated",e.locationFailureEventKey="failedToUpdateLocation",e.forceNewLocation="forceNew",e.getAddress="getAddress"}(i=e.Location||(e.Location={})),function(e){e.androidBridgeName="NavigationBridge",e.processRequest="processRequest",e.navigateToPath="navigateToPath",e.navigateToPathForResult="navigateToPathForResult",e.navigateToGenericPaymentForResult="navigateToGenericPaymentForResult",e.navigateToGenericPayment="navigateToGenericPayment"}(o=e.Navigation||(e.Navigation={})),function(e){e.navigateToPaymentsView="openPaymentsPage",e.navigateToTransactionDetail="openTransactionDetailsPage",e.navigateToGenericPaymentsView="openGenericPaymentsPage",e.navigateToHelpPage="openHelpPage",e.navigateToReactView="openReactView"}(s=e.NavigationIOS||(e.NavigationIOS={})),function(e){e.merchantId="merchantId",e.discoveryMode="mode",e.discoveryModeValue="PEER_TO_MERCHANT",e.title="Pay",e.transactionType="SENT_PAYMENT",e.timeoutTitle="Payment Expired",e.timeoutMessage="Sorry! Your payment request timed out. Please try again.",e.timeoutActionButtonTitle="OK",e.dismissTitle="Are you sure?",e.dismissMessage="Going back will cancel the payment. Are you sure you want to proceed?",e.dismissPositiveButtonTitle="I'm sure",e.dismissNegativeButtonTitle="Dismiss"}(a=e.Payments||(e.Payments={})),function(e){e.getUserDetails="getUserDetails",e.androidBridgeName="UserBridge",e.attributes="attributes"}(c=e.User||(e.User={})),function(e){e.androidBridgeName="CameraBridge",e.scanQRCode="scanQRCode",e.startCamera="startCamera"}(u=e.Camera||(e.Camera={}))}(t.PhonePeSDKWebConstants||(t.PhonePeSDKWebConstants={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(12);class i{static isLoggingEnabled(){return r.PhonePe.loggingEnabled}static logd(e,t){i.isLoggingEnabled()&&console.log("["+e+"] "+t)}constructor(e){this.tag=e}logd(e){i.logd(this.tag,e)}logAnything(e){console.log(e)}logError(e){0}}t.Logger=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(2);var o=r.ExternalConstants.Permission;class s{static assert(e,t){if(!e)throw new Error(t)}static assertString(e,t){s.assertType(e,"string",t)}static assertNumber(e,t){s.assertType(e,"number",t)}static assertBoolean(e,t){s.assertType(e,"boolean",t)}static assertFunction(e,t){s.assertType(e,"function",t)}static assertArray(e,t){if((!t||e)&&e.constructor!==Array)throw new TypeError(i.InternalConstants.ErrorCode.invalidParams)}static assertObject(e,t){s.assertType(e,"object",t)}static assertType(e,t,n){if((!n||e)&&typeof e!==t)throw new TypeError(i.InternalConstants.ErrorCode.invalidParams)}static returnResolution(e){return new Promise((t,n)=>{t(e)})}static returnRejection(e){return new Promise((t,n)=>{n(e)})}static isValidSpecies(e){return e===r.ExternalConstants.Species.web||e===r.ExternalConstants.Species.native}static isValidOS(e){return e===r.ExternalConstants.OS.ios||e===r.ExternalConstants.OS.android}static createuuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}static osSpecificPermissionNames(e,t){let n=[];for(let s of e)if(t===r.ExternalConstants.OS.ios)n.push(o[s]);else{let e="";e=s===o.LOCATION?i.InternalConstants.PermissionsBridge.androidPrefix+i.InternalConstants.PermissionsBridge.locationPermissionName:i.InternalConstants.PermissionsBridge.androidPrefix+o[s],n.push(e)}return n}static strippedPermissionName(e,t){if(t===r.ExternalConstants.OS.ios)return e;let n=i.InternalConstants.PermissionsBridge.androidPrefix,s=e.replace(new RegExp("^"+n),"");return s===i.InternalConstants.PermissionsBridge.locationPermissionName&&(s=o.LOCATION),s}static isValidMethodOniOS(e){let t=window.webkit;return t&&t.messageHandlers&&t.messageHandlers[e]&&"function"==typeof t.messageHandlers[e].postMessage}static getReserveOrderPayload(e,t){const n={};return n["X-PROVIDER-ID"]=t,{headers:n,body:e}}}t.PhonePeUtils=s},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.WebView="WebView",e.ReactView="ReactView",e.PaymentsView="PaymentView",e.GenericPaymentsView="GenericPaymentsView",e.AppScreen="AppScreen",e.ContactPicker="ContactPicker",e.TransactionDetail="TransactionDetail",e.Profile="Profile",e.HelpPage="HelpPage",e.MandateSetup="MandateSetup",e.AddToWallet="AddToWallet",e.MicroApp="MicroApp",e.PWAWebView="PWAWebView"}(r=t.NavigationScreenType||(t.NavigationScreenType={}));class i{constructor(e,t,n,r){this.screenType=e,this.title=t,this.animated=n,this.showModally=r,this.isNewTask=!1}}t.BaseNavigationRequest=i;t.ReactViewNavigationRequest=class extends i{constructor(e,t,n,i,o,s,a,c,u,l,h,d){super(r.ReactView,i,o,s),this.appId=d,this.bundleName=e,this.componentName=t,this.shouldShowToolbar=n,this.toolBarText=i,this.animated=o,this.showModally=s,this.initialProperties=a,this.category=c,this.merchantId=u,this.merchantName=l,this.tAndCUrl=h}};t.WebViewNavigationRequest=class extends i{constructor(e,t,n,i,o,s,a,c,u){super(r.WebView,t,c,u),this.url=e,this.title=t,this.shouldShowToolBar=n,this.shouldShowBackButton=i,this.screenName=o,this.shouldAllowWebViewBack=s,this.shouldShowProgressWhileLoading=a}};t.PWAWebViewNavigationRequest=class extends i{constructor(e,t,n){super(r.PWAWebView,"",!0,!0),this.merchantId=e,this.deepLinkUrl=t,this.appId=n}};t.AppScreenNavigationRequest=class extends i{constructor(e,t,n,i,o,s){super(r.AppScreen,i,o,s),this.screenName=e,this.url=t,this.params=n}};t.PaymentMetaData=class{constructor(e){this.details=e}};t.PaymentNavigationRequest=class extends i{constructor(e,t,n,i,o,s,a,c,u,l){super(r.PaymentsView,t,n,i),this.mode=o,this.microPayRequest=s,this.internalPaymentUiConfig=a,this.transactionType=c,this.metaData=u,this.originInfo=l}};t.GenericPaymentNavigationRequest=class extends i{constructor(e,t,n,i,o,s,a,c){super(r.GenericPaymentsView,t,n,i),this.mode=o,this.microPayRequest=s,this.transactionType=a,this.internalPaymentUiConfig=c}};t.MandateSetupNavigationRequest=class extends i{constructor(e,t,n,i,o,s){super(r.MandateSetup,n,i,o),this.mandateContext=e,this.mandateUiConfig=t,this.mandateType=s||"MERCHANT"}};t.AddToWalletNavigationRequest=class extends i{constructor(e,t,n,i){super(r.AddToWallet,t,n,i),this.addToWalletUiContext=e}};t.TransactionDetailsNavigationRequest=class extends i{constructor(e,t,n,i,o,s,a){super(r.TransactionDetail,t,n,i),this.transactionId=o,this.transactionType=s,this.info=a}};t.ContactNavigationRequest=class extends i{constructor(e,t,n,i,o,s,a,c,u,l,h,d,g,p){super(r.ContactPicker,t,n,i),this.contactPickerMode=o,this.contactPickerType=s,this.initialContacts=a,this.transactionType=c,this.isVpaEnable=u,this.isSelfEnable=l,this.phoneContact=h,this.vpaContact=d,this.accountContact=g}};t.ProfileNavRequest=class extends i{constructor(e,t,n,r){super(e,t,n,r)}};t.HelpPageNavRequest=class extends i{constructor(e,t,n,i,o,s,a,c,u){super(r.HelpPage,t,n,i),this.transactionId=e,this.screen=a,this.url=c,this.shouldShowToolBar=o,this.shouldAllowWebViewBack=s,this.freshBotIntentData=u}};t.FreshBotIntentData=class{constructor(e){this.freshBotScreens=e,this.queryParams={}}};t.CloseAppNavRequest=class{constructor(e){this.appIdentifier=e}};t.MicroAppNavigationRequest=class extends i{constructor(e,t,n,i,o){super(r.MicroApp,n,i,o),this.appId=e,this.initialProperties=t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);class i{static addSubscription(e){let t=this.eventNameToSubscriptionMapping[e.eventName];t?t.push(e):(t=[]).push(e),this.eventNameToSubscriptionMapping[e.eventName]=t}static removeSubscription(e){let t=e.eventName,n=e.callbackName,r=this.eventNameToSubscriptionMapping[t];if(r){let e=[],t=0;for(let i of r)i.callbackName===n&&(e.push(t),t++);for(;e.length;){let t=e.pop();t&&r.splice(t,1)}}}static removeAllSubscriptions(e){this.eventNameToSubscriptionMapping.hasOwnProperty(e)&&delete this.eventNameToSubscriptionMapping[e]}static sendEvent(e,t){let n=this.eventNameToSubscriptionMapping[e];if(n)for(let e of n)e.listener(t);else r.Logger.logd("PhonePe","[Error] No subscribers for eventName = "+e)}}i.eventNameToSubscriptionMapping={},t.EventHandler=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10).ExternalPaymentModels.ActionButtonProp;const i=n(2);!function(e){let t,n,o,s,a;!function(e){e.discoveryModeValue="PEER_TO_MERCHANT",e.title="Pay",e.transactionType="SENT_PAYMENT",e.timeoutTitle="Payment Expired",e.timeoutMessage="Sorry! Your payment request timed out. Please try again.",e.timeoutActionButtonTitle="OK",e.dismissTitle="Are you sure?",e.dismissMessage="Going back will cancel the payment. Are you sure you want to proceed?",e.dismissPositiveButtonTitle="I'm sure",e.dismissNegativeButtonTitle="Dismiss",e.PAYMENT_TIMEOUT="PAYMENT_TIMEOUT",e.PAYMENT_DISMISS="PAYMENT_DISMISS",e.kMerchantId="merchantId",e.kSellingPrice="sellingPrice",e.kPayableAmount="payableAmount",e.kServiceType="serviceType",e.kServiceTypeValue="WEBAPP",e.kReservationId="reservationId",e.kServiceRequestId="serviceRequestId",e.kServiceCategory="serviceCategory",e.kServiceCategoryValue="WEB",e.kServiceContext="serviceContext",e.kQuantity="quantity",e.kValidFor="validFor",e.kMerchantTransactionId="merchantTransactionId",e.kServiceTypeVersion="serviceTypeVersion",e.kKey="key",e.kValue="value"}(t=e.Constant||(e.Constant={})),function(e){e[e.CONTACT_TYPE_VPA=1]="CONTACT_TYPE_VPA",e[e.CONTACT_TYPE_PHONE=2]="CONTACT_TYPE_PHONE",e[e.CONTACT_TYPE_MERCHANT=3]="CONTACT_TYPE_MERCHANT",e[e.CONTACT_TYPE_USER_DATA=4]="CONTACT_TYPE_USER_DATA",e[e.CONTACT_TYPE_EXTERNAL_UPI_MERCHANT=5]="CONTACT_TYPE_EXTERNAL_UPI_MERCHANT",e[e.CONTACT_TYPE_RETAIL_MERCHANT=6]="CONTACT_TYPE_RETAIL_MERCHANT",e[e.CONTACT_TYPE_BANK_ACCOUNT=7]="CONTACT_TYPE_BANK_ACCOUNT",e[e.CONTACT_TYPE_WALLET=8]="CONTACT_TYPE_WALLET",e[e.CONTACT_TYPE_MY_ACCOUNT=9]="CONTACT_TYPE_MY_ACCOUNT"}(n=e.CONTACT_TYPE||(e.CONTACT_TYPE={})),function(e){e[e.MODE_SEND_MONEY=1]="MODE_SEND_MONEY",e[e.MODE_SPLIT_MONEY=2]="MODE_SPLIT_MONEY",e[e.REQUEST_MONEY=3]="REQUEST_MONEY",e[e.MODE_RECHARGE_MOBILE=4]="MODE_RECHARGE_MOBILE",e[e.MODE_WALLET_TOP_UP=5]="MODE_WALLET_TOP_UP",e[e.MODE_BLE_PAYMENT=6]="MODE_BLE_PAYMENT"}(o=e.PAYMENT_MODE||(e.PAYMENT_MODE={})),function(e){e.SENT_PAYMENT="SENT_PAYMENT",e.RECEIVED_PAYMENT="RECEIVED_PAYMENT",e.USER_TO_USER_SENT_REQUEST="USER_TO_USER_SENT_REQUEST",e.USER_TO_USER_RECEIVED_REQUEST="USER_TO_USER_RECEIVED_REQUEST",e.ENSEMBLE_SENT_PAYMENT="ENSEMBLE_SENT_PAYMENT",e.MISSED_PAYMENT="MISSED_PAYMENT",e.PHONE_RECHARGE="PHONE_RECHARGE",e.BILL_PAYMENT="BILL_PAYMENT",e.TICKETING="TICKETING",e.COMMUTE="COMMUTE",e.UNKNOWN="UNKNOWN"}(s=e.TRANSACTION_TYPE||(e.TRANSACTION_TYPE={})),function(e){e.MERCHANT_REVERSAL="MERCHANT_REVERSAL",e.MERCHANT_CASHBACK="MERCHANT_CASHBACK"}(a=e.TRANSFER_MODE||(e.TRANSFER_MODE={}));e.Contact=class{constructor(e,t,n,r){this.type=e,this.name=t,this.displayImageUrl=n,this.lookupId=r}};e.InternalPaymentUiConfig=class{constructor(e,t,n,i,o,s){if(this.isAmountEditable=!1,this.isInitialContactEditable=!1,this.isNoteEditable=!1,this.showRateMeDialog=!1,this.title=e,this.initialAmount=t,this.initialContactList=n,this.confirmationScreenDuration=i,o)this.confirmationActionButtonProperties=o;else{let e={PENDING:new r("DONE"),COMPLETED:new r("VIEW BOOKING"),ERRORED:new r("DONE"),DEFAULT:new r("DONE")};this.confirmationActionButtonProperties=e}this.shouldConfirmationCloseOnFailure=s||!1}};class c{constructor(e){this.allowedInstruments=e,this.supportedInstruments=e}}e.PayRequest=c;e.MicroPayRequest=class extends c{constructor(e,t,n,r,i,o){super(t),this.merchantId=e,this.serviceVersion=n,this.fallbackURL=r,this.paymentOptionsContext=i,this.serviceRequestId=o}};e.GenericPayRequest=class{constructor(e,t){this.discoveryContextMode=i.InternalConstants.General.discoveryContextMode,this.reservationId=e,this.fallbackUrl=t,this.paymentOptionsContext=JSON.stringify(new h(e,new d))}};e.GenericPaymentUiConfig=class{constructor(e,t,o,s){this.contactType=n.CONTACT_TYPE_MERCHANT,this.isAmountEditable=!1,this.isInitialContactEditable=!1,this.isNoteEditable=!1,this.showRateMeDialog=!1,this.confirmationScreenDuration=i.InternalConstants.General.confirmationScreenDuration,this.title=i.InternalConstants.General.paymentScreenName,this.shouldConfirmationCloseOnFailure=!1,e&&(this.title=e),this.confirmationActionButtonProperties=t||{PENDING:new r("DONE"),COMPLETED:new r("VIEW BOOKING"),ERRORED:new r("DONE"),DEFAULT:new r("DONE")},this.paymentTimeout=o||new u,this.paymentDismiss=s||new l}};class u{constructor(t=!0,n=e.Constant.timeoutTitle,r=e.Constant.timeoutMessage,i=e.Constant.timeoutActionButtonTitle,o=e.Constant.PAYMENT_TIMEOUT){this.showDialog=t,this.title=n,this.message=r,this.actionButtonName=i,this.errorCode=o}}e.GenericPaymentTimeOutModel=u;class l{constructor(t=!0,n=e.Constant.dismissTitle,r=e.Constant.dismissMessage,i=e.Constant.dismissPositiveButtonTitle,o=e.Constant.dismissNegativeButtonTitle,s=e.Constant.PAYMENT_DISMISS){this.showDialog=t,this.title=n,this.message=r,this.positiveButton=i,this.negativeButton=o,this.errorCode=s}}e.GenericDismissBehaviourModel=l;class h{constructor(e,t){this.type="FULFILL_SERVICE",this.metaData=t,this.reservationId=e}}e.GenericPaymentOptionsContext=h;class d{constructor(t=e.Constant.kServiceTypeValue){this.serviceType=t}}e.GenericPaymentOptionsContextMetadata=d;e.PaymentTimeOutModel=class{constructor(e,t,n,r,i,o){this.time=e,this.showDialog=t,this.title=n,this.message=r,this.actionButtonName=i,this.errorCode=o}};e.DismissBehaviourModel=class{constructor(e,t,n,r,i,o){this.showDialog=e,this.title=t,this.message=n,this.positiveButton=r,this.negativeButton=i,this.errorCode=o}};e.TopUpConsentContext=class{constructor(e,t,n){this.showDialog=e,this.title=t,this.message=n}};e.AddToWalletUiContext=class{constructor(e,t,n,r,i,o,s,a,c,u,l,h){this.walletPageTitle=e,this.suggestedAmount=t,this.showCloseWalletOption=n,this.hideWalletWithdrawal=r,this.minAmount=i,this.showRateMeDialog=o,this.isAmountEditable=s,this.confirmationScreenDuration=a,this.showTopupConsent=c,this.topUpConsentContext=u,this.paymentDismiss=l,this.paymentOptionsContext=h}};e.MandateConfig=class{constructor(e,t,n,r,i,o){this.type=e,this.merchantId=t,this.serviceProviderIds=n,this.serviceType=r,this.serviceCategory=i,this.entityType=o}};e.MandateVisibleProperties=class{constructor(e,t,n,r,i){this.amount=e,this.frequency=t,this.autoPayDay=n,this.payeeWidget=r,this.toolbar=i}};e.MandateUiConfig=class{constructor(e,t,n,r,i,o,s,a,c,u,l,h,d,g,p){this.visibilityProperty=e,this.analyticsInfo=t,this.successMessage=n,this.actionButtonText=r,this.title=i,this.merchantName=o,this.merchantMandateDescription=s,this.merchantBannerImageId=a,this.merchantBannerImageSection=c,this.merchantImageId=u,this.merchantImageSection=l,this.mandateInfoLink=h,this.confirmationScreenDuration=d,this.dismissButtonDisplayTimeout=g,this.contactId=p}};e.PaymentOptionsContext=class{constructor(e){this.type="FULFILL_SERVICE",this.metaData=e}};e.PaymentOptionsContextMetadata=class{constructor(e,t,n,r){this.merchantId=e,this.serviceCategory=t,this.serviceProviderId=n,this.serviceType=r}}}(t.ExternalPaymentsNamespace||(t.ExternalPaymentsNamespace={}))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){let t;!function(e){e.PENDING="PENDING",e.COMPLETED="COMPLETED",e.ERRORED="ERRORED",e.DEFAULT="DEFAULT"}(t=e.TransactionState||(e.TransactionState={}));e.ActionButtonProp=class{constructor(e,t){this.name=e,this.shouldHide=t}}}(t.ExternalPaymentModels||(t.ExternalPaymentModels={}))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(1),s=n(3),a=n(2);class c{static initSupportedVersionFromNative(){return r(this,void 0,void 0,function*(){yield this.fetchNativeSupportedSDKVersion().then(e=>{i.Logger.logd("PhonePe","Version received from native side = "+e),c.version=Number(e)}).catch(e=>{throw i.Logger.logd("PhonePe","Error found when trying to fetch version = "+e),Error("Something is really wrong here! We should be able to fetch version always. Are you sure you are testing it inside the PhonePe app?")}),this.populateMethodToVersionMapping()})}static isMethodSupported(e){if(e===s.PhonePeSDKWebConstants.Metadata.supportedVersion)return!0;if(!c.version)throw i.Logger.logd("PhonePe","[Error] Can't call isMethodSupported before native has returned the version"),Error("Can't call isMethodSupported before native has returned the version");let t=c.methodToVersionMapping[e];if(!t)throw i.Logger.logd("PhonePe","[Error] Could not find this method in mapping. This should never happen!"),Error("Could not find this method in mapping. This should never happen!");{let e=t[s.PhonePeSDKWebConstants.General.min],n=t[s.PhonePeSDKWebConstants.General.max],r=c.version;if(i.Logger.logd("PhonePe","Comparing minVersion = "+e+" maxVersion = "+n+" nativeSDKSupportVersion = "+r),r<e)return!1;if(-1!==n&&r>n)return!1}return!0}static fetchNativeSupportedSDKVersion(){return i.Logger.logd("PhonePe","Trying to call supportedVersion method in fetchNativeSupportedSDKVersion"),o.MessagingHandler.storePromiseAndCallNative(s.PhonePeSDKWebConstants.Metadata.supportedVersion,s.PhonePeSDKWebConstants.Metadata.androidBridgeName,{})}static populateMethodToVersionMapping(){let e={min:1,max:-1};this.methodToVersionMapping[s.PhonePeSDKWebConstants.Preferences.getItem]=e,this.methodToVersionMapping[s.PhonePeSDKWebConstants.Preferences.setItem]=e,this.methodToVersionMapping[s.PhonePeSDKWebConstants.Preferences.removeItem]=e,this.methodToVersionMapping[s.PhonePeSDKWebConstants.Preferences.removeItemAndroid]=e,this.methodToVersionMapping[s.PhonePeSDKWebConstants.Location.startUpdatingLocation]=e,this.methodToVersionMapping[s.PhonePeSDKWebConstants.Location.stopUpdatingLocation]=e,this.methodToVersionMapping[s.PhonePeSDKWebConstants.Location.getCurrentLocation]=e,this.methodToVersionMapping[s.PhonePeSDKWebConstants.Navigation.navigateToPath]=e,this.methodToVersionMapping[s.PhonePeSDKWebConstants.Navigation.navigateToPathForResult]=e,this.methodToVersionMapping[s.PhonePeSDKWebConstants.NavigationIOS.navigateToPaymentsView]=e,this.methodToVersionMapping[s.PhonePeSDKWebConstants.NavigationIOS.navigateToHelpPage]=e,this.methodToVersionMapping[s.PhonePeSDKWebConstants.NavigationIOS.navigateToTransactionDetail]=e,this.methodToVersionMapping[s.PhonePeSDKWebConstants.User.getUserDetails]=e,this.methodToVersionMapping[s.PhonePeSDKWebConstants.Metadata.supportedVersion]=e,this.methodToVersionMapping[a.InternalConstants.PermissionsBridge.openSettingsPage]=e,this.methodToVersionMapping[a.InternalConstants.PermissionsBridge.seekPermission]=e,this.methodToVersionMapping[a.InternalConstants.AnalyticsBridge.methodName]=e,this.methodToVersionMapping[a.InternalConstants.AuthBridge.fetchAuthToken]=e,this.methodToVersionMapping[a.InternalConstants.AuthBridge.fetchGrantToken]=e,this.methodToVersionMapping[a.InternalConstants.CameraBridge.scanQRCode]=e,this.methodToVersionMapping[a.InternalConstants.CameraBridge.startCamera]=e,this.methodToVersionMapping[a.InternalConstants.OrderActionBridge.methodName]=Object.assign({},e,{min:3}),this.methodToVersionMapping[a.InternalConstants.OrderActionBridge.openPaymentsPageForReservedOrder]=Object.assign({},e,{min:3}),this.methodToVersionMapping[a.InternalConstants.FilePickerBridge.readFile]=Object.assign({},e,{min:4}),this.methodToVersionMapping[a.InternalConstants.FilePickerBridge.selectFile]=Object.assign({},e,{min:4}),this.methodToVersionMapping[s.PhonePeSDKWebConstants.NavigationIOS.navigateToGenericPaymentsView]=Object.assign({},e,{min:4}),this.methodToVersionMapping[s.PhonePeSDKWebConstants.Navigation.navigateToGenericPayment]=Object.assign({},e,{min:4}),this.methodToVersionMapping[s.PhonePeSDKWebConstants.Navigation.navigateToGenericPaymentForResult]=Object.assign({},e,{min:4})}}c.methodToVersionMapping={},t.MethodVersioningHandler=c},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(6),o=n(48),s=n(46),a=n(44),c=n(11),u=n(5),l=n(42),h=n(38),d=n(35),g=n(30),p=n(28),f=n(26),P=n(24),m=n(1),y=n(7),v=n(2),E=n(0),T=n(3),N=n(8),C=n(10),S=n(22),w=n(20),A=n(18);var b=E.ExternalConstants.Permission;t.MessagingHandler=m.MessagingHandler,t.EventHandler=y.EventHandler,t.Constants=E.ExternalConstants,t.PaymentModels=C.ExternalPaymentModels;class M{constructor(e,t){this.preferencesModule=g.NativePreferenceBridgeFactory.getNativePreferenceBridge(e,t),this.locationModule=h.LocationBridgeFactory.getNativeLocationBridge(e,t),this.navigationModule=d.NativeNavigationFactory.repository(e,t),this.cameraBridge=w.NativeCameraBridgeFactory.getNativeCameraBridge(e),this.permissionsBridge=a.NativePermissionsBridgeFactory.getPermissionsBridge(e,t),this.analyticsBridge=s.NativeAnalyticsBridgeFactory.getNativeAnalyticsBridge(e,t),this.authBridge=o.NativeOAuthBridgeFactory.bridge(e),this.deviceInfoBridge=p.NativeDeviceInfoBridgeFactory.bridge(e),this.bleManagerBridge=S.default.getBleManagerBridge(e),this.orderActionBridge=f.NativeOrderActionBridgeFactory.bridge(e),this.filePickerBridge=P.NativeFilePickerBridgeFactory.bridge(e),this.species=e}static build(e,t){return r(this,void 0,void 0,function*(){let n=t;if(n||(n=this.getOperatingSystem(e)),!n)throw new Error(v.InternalConstants.ErrorCode.invalidParams);if(!u.PhonePeUtils.isValidSpecies(e)||!u.PhonePeUtils.isValidOS(n))throw new Error(v.InternalConstants.ErrorCode.invalidParams);let r=new M(e,n);return e===E.ExternalConstants.Species.web&&(yield c.MethodVersioningHandler.initSupportedVersionFromNative()),r})}static getOperatingSystem(e){if(e===E.ExternalConstants.Species.web){if(-1!==navigator.userAgent.search(E.ExternalConstants.OSUserAgent.android))return E.ExternalConstants.OS.android;if(-1!==navigator.userAgent.search(E.ExternalConstants.OSUserAgent.ios))return E.ExternalConstants.OS.ios;let e=T.PhonePeSDKWebConstants.NavigationIOS.navigateToPaymentsView;return u.PhonePeUtils.isValidMethodOniOS(e)?E.ExternalConstants.OS.ios:E.ExternalConstants.OS.android}return E.ExternalConstants.OS.android}getItem(e,t,n){try{u.PhonePeUtils.assertString(e),u.PhonePeUtils.assertString(t),u.PhonePeUtils.assertString(n,!0)}catch(e){return u.PhonePeUtils.returnRejection(e)}return this.preferencesModule.getString(e,t,n)}setItem(e,t,n){try{u.PhonePeUtils.assertString(e),u.PhonePeUtils.assertString(t),u.PhonePeUtils.assertString(n)}catch(e){return u.PhonePeUtils.returnRejection(e)}return this.preferencesModule.saveString(e,t,n),u.PhonePeUtils.returnResolution(void 0)}removeItem(e,t){try{u.PhonePeUtils.assertString(e),u.PhonePeUtils.assertString(t)}catch(e){return u.PhonePeUtils.returnRejection(e)}return this.preferencesModule.removeItem(e,t),u.PhonePeUtils.returnResolution(void 0)}startUpdatingLocation(){this.locationModule.startUpdatingLocation()}stopUpdatingLocation(){this.locationModule.stopUpdatingLocation()}getCurrentLocation(){return this.locationModule.getCurrentLocation(!0)}registerLocationUpdateSuccessCallback(e,t){try{u.PhonePeUtils.assertString(e),u.PhonePeUtils.assertFunction(t)}catch(e){return u.PhonePeUtils.returnRejection(e)}let n=this.locationModule.onLocationUpdateSuccess(e,t);return u.PhonePeUtils.returnResolution(n)}registerLocationUpdateFailureCallback(e,t){try{u.PhonePeUtils.assertString(e),u.PhonePeUtils.assertFunction(t)}catch(e){return u.PhonePeUtils.returnRejection(e)}let n=this.locationModule.onLocationUpdateFailure(e,t);return u.PhonePeUtils.returnResolution(n)}openPaymentsPage(e,t,n,r,i,o){return this.makeCommonPaymentsPageCall(v.InternalConstants.General.v1,e,t,n,r,i,o)}openTransactionDetailsPage(e){try{u.PhonePeUtils.assertString(e)}catch(e){return u.PhonePeUtils.returnRejection(e)}let t=l.ExternalNavigationFactory.transactionDetailRequest(e);return this.navigationModule.processNavigationRequestForResultAsync(t)}seekPermission(e){try{u.PhonePeUtils.assertArray(e);for(let t of e)u.PhonePeUtils.assertString(t),u.PhonePeUtils.assert(void 0!==b[t],v.InternalConstants.ErrorCode.invalidParams)}catch(e){return u.PhonePeUtils.returnRejection(e)}return this.permissionsBridge.seekPermission(e)}openSettingsPageForPermission(){return this.permissionsBridge.openSettingsPageForPermission()}scanQRCode(e,t=".*"){return this.cameraBridge.scanQRCode(e,t)}startCamera(){return this.cameraBridge.startCamera()}loadFont(e,t,n){if(this.species===E.ExternalConstants.Species.web)return u.PhonePeUtils.returnRejection(v.InternalConstants.ErrorCode.invalidParams);throw new Error("Wrong species sent")}logMerchantEvent(e,t){try{u.PhonePeUtils.assertString(e),u.PhonePeUtils.assertObject(t,!0)}catch(e){return u.PhonePeUtils.returnRejection(e)}return this.analyticsBridge.logMerchantEvent(e,t)}fetchGrantToken(){return this.authBridge.fetchGrantToken()}fetchAuthToken(){return this.authBridge.fetchAuthToken()}getDeviceInfo(){return this.deviceInfoBridge.getDeviceInfo()}bluetoothRead(e,t,n){return this.bleManagerBridge.read(e,t,n)}bluetoothReadRSSI(e){return this.bleManagerBridge.readRSSI(e)}bluetoothRefreshCache(e){return this.bleManagerBridge.refreshCache(e)}bluetoothRetrieveServices(e,t){return this.bleManagerBridge.retrieveServices(e,t)}bluetoothWrite(e,t,n,r,i=20){return this.bleManagerBridge.write(e,t,n,r,i)}bluetoothWriteWithoutResponse(e,t,n,r,i=20,o=10){return this.bleManagerBridge.writeWithoutResponse(e,t,n,r,i,o)}bluetoothConnect(e){return this.bleManagerBridge.connect(e)}bluetoothCreateBond(e){return this.bleManagerBridge.createBond(e)}bluetoothRemoveBond(e){return this.bleManagerBridge.removeBond(e)}bluetoothDisconnect(e){return this.bleManagerBridge.disconnect(e)}bluetoothStartNotification(e,t,n){return this.bleManagerBridge.startNotification(e,t,n)}bluetoothStopNotification(e,t,n){return this.bleManagerBridge.stopNotification(e,t,n)}bluetoothCheckState(){this.bleManagerBridge.checkState()}bluetoothStart(e){return this.bleManagerBridge.start(e)}bluetoothScan(e,t,n=!1,r={}){return this.bleManagerBridge.scan(e,t,n,r)}bluetoothStopScan(){return this.bleManagerBridge.stopScan()}bluetoothEnableBluetooth(){return this.bleManagerBridge.enableBluetooth()}bluetoothGetConnectedPeripherals(e){return this.bleManagerBridge.getConnectedPeripherals(e)}bluetoothGetBondedPeripherals(){return this.bleManagerBridge.getBondedPeripherals()}bluetoothGetDiscoveredPeripherals(){return this.bleManagerBridge.getDiscoveredPeripherals()}bluetoothRemovePeripheral(e){return this.bleManagerBridge.removePeripheral(e)}bluetoothIsPeripheralConnected(e,t){return this.bleManagerBridge.isPeripheralConnected(e,t)}bluetoothRequestConnectionPriority(e,t){return this.bleManagerBridge.requestConnectionPriority(e,t)}bluetoothRequestMTU(e,t){return this.bleManagerBridge.requestMTU(e,t)}reserveOrder(e,t){let n;try{u.PhonePeUtils.assertString(e),u.PhonePeUtils.assertString(t),n=JSON.parse(A.Base64Client.decode(e)),u.PhonePeUtils.assertObject(n)}catch(e){return u.PhonePeUtils.returnRejection(e)}return this.orderActionBridge.reserveOrder(u.PhonePeUtils.getReserveOrderPayload(n,t))}proceedToPay(e,t){try{u.PhonePeUtils.assertString(e),M.getOperatingSystem(this.species)===E.ExternalConstants.OS.android&&u.PhonePeUtils.assertString(t)}catch(e){return u.PhonePeUtils.returnRejection(e)}let n=t?encodeURIComponent(t):"";const r=l.ExternalNavigationFactory.genericPaymentNavigationRequest(e,n);return this.navigationModule.processNavigationRequestForResultAsync(r)}openPaymentsPageForReservedOrder(e,t,n,r,i,o){const s=JSON.parse(A.Base64Client.decode(t));return this.makeCommonPaymentsPageCall(v.InternalConstants.General.v2,e,s,n,r,i,o)}makeCommonPaymentsPageCall(e,t,n,r,i,o,s){try{u.PhonePeUtils.assertString(t),u.PhonePeUtils.assertObject(n),this.species===E.ExternalConstants.Species.web&&u.PhonePeUtils.assertString(r,!0),u.PhonePeUtils.assertString(i,!0),u.PhonePeUtils.assertArray(o,!0)}catch(e){return u.PhonePeUtils.returnRejection(e)}let a=n[N.ExternalPaymentsNamespace.Constant.kPayableAmount],c={};a&&(c={amount:a}),this.logMerchantEvent("CATEGORY_PAYMENT_INIT",c);let h=l.ExternalNavigationFactory.paymentNavigationRequest(t,n,e,r,i,o,s);return new Promise((e,t)=>{this.navigationModule.processNavigationRequestForResultAsync(h).then(t=>{let r={},i=N.ExternalPaymentsNamespace.Constant.kMerchantTransactionId,o=n[i];o&&(r[i]=o),e(r)}).catch(e=>{t(e)})})}selectFile(e,t){try{u.PhonePeUtils.assertString(e),u.PhonePeUtils.assertBoolean(t)}catch(e){return u.PhonePeUtils.returnRejection(e)}return this.filePickerBridge.selectFile(e,t)}readFile(e,t,n){try{if(u.PhonePeUtils.assertString(e),u.PhonePeUtils.assertNumber(t),u.PhonePeUtils.assertNumber(n),t<0||n<0)throw new TypeError(v.InternalConstants.ErrorCode.invalidParams)}catch(e){return u.PhonePeUtils.returnRejection(e)}return this.filePickerBridge.readFile(e,t,n)}closeApp(){let e=new i.CloseAppNavRequest("");this.navigationModule.closeAppRequest(e)}openMicroApp(e,t){try{u.PhonePeUtils.assertString(e),u.PhonePeUtils.assertObject(t,!0)}catch(e){return u.PhonePeUtils.returnRejection(e)}let n=new i.MicroAppNavigationRequest(e,t,"",!0,!1);return this.navigationModule.processNavigationRequestAsync(n)}isMethodSupported(e){return c.MethodVersioningHandler.isMethodSupported(e)}}M.loggingEnabled=!1,t.PhonePe=M},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?i-1:0,d=n?-1:1,g=e[t+h];for(h+=d,o=g&(1<<-l)-1,g>>=-l,l+=a;l>0;o=256*o+e[t+h],h+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+h],h+=d,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(g?-1:1);s+=Math.pow(2,r),o-=u}return(g?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,h=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:o-1,p=r?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(t*c-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+g]=255&a,g+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+g]=255&s,g+=p,s/=256,u-=8);e[n+g-p]|=128*f}},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=u(e),r=n[0],s=n[1],a=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,s)),c=0,l=s>0?r-4:r,h=0;h<l;h+=4)t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)],a[c++]=t>>16&255,a[c++]=t>>8&255,a[c++]=255&t;2===s&&(t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4,a[c++]=255&t);1===s&&(t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2,a[c++]=t>>8&255,a[c++]=255&t);return a},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(l(e,s,s+16383>a?a:s+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(15),i=n(14),o=n(13);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=a(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|g(t.length);return 0===(e=a(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=a(e,t<0?0:0|g(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|g(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function g(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function f(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function P(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var h=!0,d=0;d<c;d++)if(u(e,o+d)!==u(t,d)){h=!1;break}if(h)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function v(e,t,n,r){return Y(F(t,e.length-n),e,n,r)}function E(e,t,n,r){return Y(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function T(e,t,n,r){return E(e,t,n,r)}function N(e,t,n,r){return Y(V(t),e,n,r)}function C(e,t,n,r){return Y(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function w(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,c,u=e[i],l=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return h(null,e)},c.allocUnsafeSlow=function(e){return h(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?w(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return _(this,t,n);case"utf8":case"utf-8":return w(this,t,n);case"ascii":return b(this,t,n);case"latin1":case"binary":return M(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,a=Math.min(o,s),u=this.slice(r,i),l=e.slice(t,n),h=0;h<a;++h)if(u[h]!==l[h]){o=u[h],s=l[h];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return P(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return P(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return T(this,e,t,n);case"base64":return N(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function b(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function _(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=W(e[o]);return i}function R(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function U(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function x(e,t,n,r,o){return o||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return o||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||B(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||B(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):U(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);B(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);B(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):U(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return x(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return x(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=c.isBuffer(e)?e:F(new c(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var k=/[^+\/0-9A-Za-z-_]/g;function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(k,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(9))},function(e,t,n){(function(r){var i;!function(r,o){e.exports=function(r){"use strict";var o,s=r.Base64;if(void 0!==e&&e.exports)try{o=n(16).Buffer}catch(e){}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(a),u=String.fromCharCode,l=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?u(192|t>>>6)+u(128|63&t):u(224|t>>>12&15)+u(128|t>>>6&63)+u(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return u(240|t>>>18&7)+u(128|t>>>12&63)+u(128|t>>>6&63)+u(128|63&t)},h=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,d=function(e){return e.replace(h,l)},g=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),r=[a.charAt(n>>>18),a.charAt(n>>>12&63),t>=2?"=":a.charAt(n>>>6&63),t>=1?"=":a.charAt(63&n)];return r.join("")},p=r.btoa?function(e){return r.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,g)},f=o?o.from&&o.from!==Uint8Array.from?function(e){return(e.constructor===o.constructor?e:o.from(e)).toString("base64")}:function(e){return(e.constructor===o.constructor?e:new o(e)).toString("base64")}:function(e){return p(d(e))},P=function(e,t){return t?f(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):f(String(e))},m=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),y=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return u(55296+(n>>>10))+u(56320+(1023&n));case 3:return u((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return u((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},v=function(e){return e.replace(m,y)},E=function(e){var t=e.length,n=t%4,r=(t>0?c[e.charAt(0)]<<18:0)|(t>1?c[e.charAt(1)]<<12:0)|(t>2?c[e.charAt(2)]<<6:0)|(t>3?c[e.charAt(3)]:0),i=[u(r>>>16),u(r>>>8&255),u(255&r)];return i.length-=[0,0,2,1][n],i.join("")},T=r.atob?function(e){return r.atob(e)}:function(e){return e.replace(/[\s\S]{1,4}/g,E)},N=o?o.from&&o.from!==Uint8Array.from?function(e){return(e.constructor===o.constructor?e:o.from(e,"base64")).toString()}:function(e){return(e.constructor===o.constructor?e:new o(e,"base64")).toString()}:function(e){return v(T(e))},C=function(e){return N(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};if(r.Base64={VERSION:"2.4.3",atob:T,btoa:p,fromBase64:C,toBase64:P,utob:d,encode:P,encodeURI:function(e){return P(e,!0)},btou:v,decode:C,noConflict:function(){var e=r.Base64;return r.Base64=s,e}},"function"==typeof Object.defineProperty){var S=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};r.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",S(function(){return C(this)})),Object.defineProperty(String.prototype,"toBase64",S(function(e){return P(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",S(function(){return P(this,!0)}))}}r.Meteor&&(Base64=r.Base64);void 0!==e&&e.exports?e.exports.Base64=r.Base64:void 0===(i=function(){return r.Base64}.apply(t,[]))||(e.exports=i);return{Base64:r.Base64}}(r)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:this)}).call(this,n(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17);t.Base64Client=class{static encode(e){return r.Base64.encode(e)}static decode(e){return r.Base64.decode(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);var i=n(3).PhonePeSDKWebConstants.Camera;t.WebNativeCameraBridge=class{scanQRCode(e,t){return new Promise((n,o)=>{r.MessagingHandler.storePromiseAndCallNative(i.scanQRCode,i.androidBridgeName,{showGallery:e,validator:t}).then(e=>{n(e)}).catch(e=>{o(e)})})}startCamera(){return new Promise((e,t)=>{r.MessagingHandler.storePromiseAndCallNative(i.startCamera,i.androidBridgeName,{}).then(t=>{e(t)}).catch(e=>{t(e)})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(19),i=n(0);t.NativeCameraBridgeFactory=class{static getNativeCameraBridge(e){if(e===i.ExternalConstants.Species.web)return new r.WebNativeCameraBridge;throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WebPPBleManager=class{read(e,t,n){throw new Error("Wrong species sent")}readRSSI(e){throw new Error("Wrong species sent")}refreshCache(e){throw new Error("Wrong species sent")}retrieveServices(e,t){throw new Error("Wrong species sent")}write(e,t,n,r,i){throw new Error("Wrong species sent")}writeWithoutResponse(e,t,n,r,i,o){throw new Error("Wrong species sent")}connect(e){throw new Error("Wrong species sent")}createBond(e){throw new Error("Wrong species sent")}removeBond(e){throw new Error("Wrong species sent")}disconnect(e){throw new Error("Wrong species sent")}startNotification(e,t,n){throw new Error("Wrong species sent")}stopNotification(e,t,n){throw new Error("Wrong species sent")}checkState(){throw new Error("Wrong species sent")}start(e){throw new Error("Wrong species sent")}scan(e,t,n,r){throw new Error("Wrong species sent")}stopScan(){throw new Error("Wrong species sent")}enableBluetooth(){throw new Error("Wrong species sent")}getConnectedPeripherals(e){throw new Error("Wrong species sent")}getBondedPeripherals(){throw new Error("Wrong species sent")}getDiscoveredPeripherals(){throw new Error("Wrong species sent")}removePeripheral(e){throw new Error("Wrong species sent")}isPeripheralConnected(e,t){throw new Error("Wrong species sent")}requestConnectionPriority(e,t){throw new Error("Wrong species sent")}requestMTU(e,t){throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(21);t.default=class{static getBleManagerBridge(e){if(e===r.ExternalConstants.Species.web)return new i.WebPPBleManager;throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2).InternalConstants.FilePickerBridge;t.WebNativeFilePickerBridge=class{selectFile(e,t){return new Promise((n,o)=>{r.MessagingHandler.storePromiseAndCallNative(i.selectFile,i.bridgeName,{mimeType:e,allowMultiple:t}).then(e=>{n(JSON.parse(e))}).catch(e=>{o(e)})})}readFile(e,t,n){return new Promise((o,s)=>{r.MessagingHandler.storePromiseAndCallNative(i.readFile,i.bridgeName,{uri:e,offset:t,length:n}).then(e=>{o(JSON.parse(e))}).catch(e=>{s(e)})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(23),i=n(0);t.NativeFilePickerBridgeFactory=class{static bridge(e){if(e===i.ExternalConstants.Species.web)return new r.WebNativeFilePickerBridge;throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2).InternalConstants.OrderActionBridge;t.WebNativeOrderActionBridge=class{reserveOrder(e){return new Promise((t,n)=>{r.MessagingHandler.storePromiseAndCallNative(i.methodName,i.bridgeName,e).then(e=>{t(JSON.parse(e))}).catch(e=>{n(e)})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(0);t.NativeOrderActionBridgeFactory=class{static bridge(e){if(e===i.ExternalConstants.Species.web)return new r.WebNativeOrderActionBridge;throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WebNativeDeviceInfoBridge=class{getDeviceInfo(){return Promise.resolve()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(27),i=n(0);t.NativeDeviceInfoBridgeFactory=class{static bridge(e){if(e===i.ExternalConstants.Species.web)return new r.WebNativeDeviceInfoBridge;throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),i=n(1),o=n(0),s=n(3);var a=s.PhonePeSDKWebConstants.Preferences;t.WebNativePreferenceBridge=class{constructor(e){this.operatingSystem=e}getString(e,t,n){let r=this.prefObject(e,t,void 0,n);return i.MessagingHandler.storePromiseAndCallNative(a.getItem,a.androidBridgeName,r)}getNumber(e,t,n){return new Promise((e,t)=>{t("This should not be called in case of web pref bridge")})}getDecryptedUserId(){return new Promise((e,t)=>{t("This should not be called in case of web pref bridge")})}saveNumber(e,t,n){r.Logger.logd("PhonePe","[Error] his should not be called in case of web pref bridge")}saveString(e,t,n){let r=this.prefObject(e,t,n,void 0);i.MessagingHandler.callNative(a.setItem,a.androidBridgeName,r)}removeItem(e,t){let n=this.prefObject(e,t,void 0,void 0),r=a.removeItem;this.operatingSystem===o.ExternalConstants.OS.android&&(r=a.removeItemAndroid),i.MessagingHandler.callNative(r,s.PhonePeSDKWebConstants.Preferences.androidBridgeName,n)}prefObject(e,t,n,r){let i={};return e&&(i[s.PhonePeSDKWebConstants.General.prefName]=e),t&&(i[s.PhonePeSDKWebConstants.General.key]=t),r&&(i[s.PhonePeSDKWebConstants.General.defaultValue]=r),n&&(i[s.PhonePeSDKWebConstants.General.value]=n),i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(29),i=n(0);t.NativePreferenceBridgeFactory=class{static getNativePreferenceBridge(e,t){if(e===i.ExternalConstants.Species.web)return new r.WebNativePreferenceBridge(t);throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(5),o=n(6),s=n(1),a=n(3);t.IOSWebNavigationHandler=class{processNavigationRequestAsync(e,t){return r(this,void 0,void 0,function*(){if(e.screenType===o.NavigationScreenType.PaymentsView){let n=e;return this.navigateToPayment(n,e.isNewTask,t)}if(e.screenType===o.NavigationScreenType.TransactionDetail){let n=e;return this.navigateToTransactionDetail(n,e.isNewTask,t)}if(e.screenType===o.NavigationScreenType.GenericPaymentsView){let n=e;return this.navigateToGenericPayment(n,e.isNewTask,t)}return i.PhonePeUtils.returnRejection("Unhandled request type")})}processNavigationRequestForResultAsync(e){return r(this,void 0,void 0,function*(){return this.processNavigationRequestAsync(e,!0)})}navigateToPayment(e,t,n){let r=e,i=a.PhonePeSDKWebConstants.NavigationIOS.navigateToPaymentsView;return s.MessagingHandler.storePromiseAndCallNative(i,"",r)}navigateToTransactionDetail(e,t,n){return r(this,void 0,void 0,function*(){let t=e,n=a.PhonePeSDKWebConstants.NavigationIOS.navigateToTransactionDetail;return s.MessagingHandler.storePromiseAndCallNative(n,"",t)})}navigateToGenericPayment(e,t,n){return r(this,void 0,void 0,function*(){let t=e,n=a.PhonePeSDKWebConstants.NavigationIOS.navigateToGenericPaymentsView;return s.MessagingHandler.storePromiseAndCallNative(n,"",t)})}closeAppRequest(e){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Node=class{constructor(e,t,n){this.name=e,this.screenType=t,this.data=n}};t.Path=class{constructor(e){this.node=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(32);t.NativeNavigationRequestFactory=class{static pathFromPaymentRequest(e,t){let n=[],i=new r.Node("payment_activity","ACTIVITY",{}),o={};o.mode=JSON.stringify(e.mode),o.internalPaymentUiConfig=JSON.stringify(e.internalPaymentUiConfig),o.microPayRequest=JSON.stringify(e.microPayRequest),o.transactionType=JSON.stringify(e.transactionType),o.info=JSON.stringify(e.originInfo),o.metaData=JSON.stringify(e.metaData);let s=new r.Node("micro_app_payment","FRAGMENT",o);return n.push(i),n.push(s),new r.Path(n)}static pathFromGenericPaymentRequest(e,t){let n=[],i=new r.Node("payment_activity","ACTIVITY",{}),o={};o.mode=JSON.stringify(e.mode),o.microPayRequest=JSON.stringify(e.microPayRequest),o.transactionType=JSON.stringify(e.transactionType),o.internalPaymentUiConfig=JSON.stringify(e.internalPaymentUiConfig);let s=new r.Node("micro_app_aggregator_payment","FRAGMENT",o);return n.push(i),n.push(s),new r.Path(n)}static pathFromTransactionDetailsRequest(e,t){let n=[],i=new r.Node("transaction_details_activity","ACTIVITY",{}),o={};o.transactionId=JSON.stringify(e.transactionId),o.transactionType=JSON.stringify("TICKETING"),o.info=JSON.stringify(e.info);let s=new r.Node("transaction_details_fragment","FRAGMENT",o);return n.push(i),n.push(s),new r.Path(n)}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(5),o=n(1),s=n(33),a=n(6),c=n(3),u=n(2);var l=c.PhonePeSDKWebConstants.Navigation,h=u.InternalConstants.ActivityID;class d{processNavigationRequestAsync(e,t){return r(this,void 0,void 0,function*(){if(e.screenType===a.NavigationScreenType.PaymentsView){let n=e;return this.navigateToPayment(n,e.isNewTask,t)}if(e.screenType===a.NavigationScreenType.TransactionDetail){let n=e;return this.navigateToTransactionDetail(n,e.isNewTask,t)}if(e.screenType===a.NavigationScreenType.GenericPaymentsView){let n=e;return this.navigateToGenericPayment(n,e.isNewTask,t)}return i.PhonePeUtils.returnRejection("Unhandled request type")})}processNavigationRequestForResultAsync(e){return r(this,void 0,void 0,function*(){return this.processNavigationRequestAsync(e,!0)})}navigateToPayment(e,t,n){let r=s.NativeNavigationRequestFactory.pathFromPaymentRequest(e,t),i=this.objectForNavigation(r,h.payments,t);return n?o.MessagingHandler.storePromiseAndCallNative(l.navigateToPathForResult,l.androidBridgeName,i):o.MessagingHandler.callNative(l.navigateToPath,l.androidBridgeName,i)}navigateToTransactionDetail(e,t,n){return r(this,void 0,void 0,function*(){let r=s.NativeNavigationRequestFactory.pathFromTransactionDetailsRequest(e,t),i=this.objectForNavigation(r,h.transactionDetails,t);return n?o.MessagingHandler.storePromiseAndCallNative(l.navigateToPathForResult,l.androidBridgeName,i):o.MessagingHandler.callNative(l.navigateToPath,l.androidBridgeName,i)})}navigateToGenericPayment(e,t,n){let r=s.NativeNavigationRequestFactory.pathFromGenericPaymentRequest(e,t),i=this.objectForNavigation(r,h.payments,t);return n?o.MessagingHandler.storePromiseAndCallNative(l.navigateToPathForResult,l.androidBridgeName,i):o.MessagingHandler.callNative(l.navigateToPath,l.androidBridgeName,i)}objectForNavigation(e,t,n){let r={};return r[d.pathKey]=JSON.stringify(e),r[d.activityIdKey]=t,r[d.isNewTaskKey]=n?268435456:0,r}closeAppRequest(e){}}d.pathKey="path",d.activityIdKey="activityId",d.isNewTaskKey="isNewTask",t.AndroidWebNavigationHandler=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34),i=n(31),o=n(0);t.NativeNavigationFactory=class{static repository(e,t){if(e===o.ExternalConstants.Species.web)return t===o.ExternalConstants.OS.ios?new i.IOSWebNavigationHandler:new r.AndroidWebNavigationHandler;throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7);t.PhonePeWebSubscription=class{constructor(e,t,n){this.eventName=t,this.listener=n,this.callbackName=e}remove(){r.EventHandler.removeSubscription(this)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(36),i=n(3),o=n(1),s=n(7);var a=i.PhonePeSDKWebConstants.Location;t.WebLocationBridge=class{getAddress(e,t){return Promise.resolve()}startUpdatingLocation(){o.MessagingHandler.callNative(a.startUpdatingLocation,a.androidBridgeName,{})}stopUpdatingLocation(){o.MessagingHandler.callNative(a.stopUpdatingLocation,a.androidBridgeName,{}),s.EventHandler.removeAllSubscriptions(a.locationSuccessEventKey),s.EventHandler.removeAllSubscriptions(a.locationFailureEventKey)}getCurrentLocation(){let e={};return e[a.forceNewLocation]=!0,o.MessagingHandler.storePromiseAndCallNative(a.getCurrentLocation,a.androidBridgeName,e)}onLocationUpdateSuccess(e,t){let n=new r.PhonePeWebSubscription(e,a.locationSuccessEventKey,t);return s.EventHandler.addSubscription(n),n}onLocationUpdateFailure(e,t){let n=new r.PhonePeWebSubscription(e,a.locationFailureEventKey,t);return s.EventHandler.addSubscription(n),n}isLocationTurnedOn(){return Promise.resolve()}turnOnLocation(){return Promise.resolve()}setLocationPriority(e){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(37),i=n(0);t.LocationBridgeFactory=class{static getNativeLocationBridge(e,t){if(e===i.ExternalConstants.Species.web)return new r.WebLocationBridge;throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AnalyticsInfo=class{constructor(e,t,n){this.category=e,this.action=t,this.groupingKey=n,this.startTimeStamp=(new Date).getTime(),this.lastTimeStamp=this.startTimeStamp,this.customDimens={},this.isTransactionalEvent=!1,this.value=0,this.isFirstTime=!0}setValue(e){this.value=e}setTransactionalEvent(e){this.isTransactionalEvent=!0,this.value=e}setCustomDimension(e){this.customDimens=e}setLastTimeStamp(e){this.lastTimeStamp=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8);var i=r.ExternalPaymentsNamespace.Constant,o=r.ExternalPaymentsNamespace.PaymentOptionsContext,s=r.ExternalPaymentsNamespace.PaymentOptionsContextMetadata,a=r.ExternalPaymentsNamespace.MicroPayRequest,c=r.ExternalPaymentsNamespace.GenericPayRequest,u=r.ExternalPaymentsNamespace.GenericPaymentUiConfig,l=r.ExternalPaymentsNamespace.PaymentTimeOutModel,h=r.ExternalPaymentsNamespace.DismissBehaviourModel,d=r.ExternalPaymentsNamespace.InternalPaymentUiConfig,g=r.ExternalPaymentsNamespace.Contact,p=r.ExternalPaymentsNamespace.CONTACT_TYPE;const f=n(2);t.ExternalPaymentsRequestFactory=class{static genericMicroPayRequest(e,t){return new c(e,t)}static genericPaymentUiConfig(){return new u}static microPayRequest(e,t,n){let r=e[i.kServiceRequestId],c=new a(e[i.kMerchantId],191,f.InternalConstants.General.v1,n,void 0,r);c.serviceProviderId=c.merchantId;let u={};u[i.kSellingPrice]=e[i.kPayableAmount],u[i.kServiceType]=i.kServiceTypeValue,u[i.kReservationId]=e[i.kReservationId];let l={};l[i.kServiceCategory]=e[i.kServiceCategory],u[i.kServiceContext]=l,e[i.kQuantity]&&(u[i.kQuantity]=e[i.kQuantity]),u[i.kServiceTypeVersion]=e[i.kServiceTypeVersion],c.fulFillContext=JSON.stringify(u),c.discoveryContext=JSON.stringify(this.discoveryContext(c.merchantId));let h=new s(c.merchantId,e[i.kServiceCategory],c.merchantId,i.kServiceTypeValue);return c.paymentOptionsContext=JSON.stringify(new o(h)),c}static discoveryContext(e){return{merchantId:e,mode:f.InternalConstants.General.discoveryContextMode}}static internalPaymentUIConfig(e,t,n,r,i,o){let s=[new g(p.CONTACT_TYPE_MERCHANT,t,r,o)],a=f.InternalConstants.General.confirmationScreenDuration,c=new d(f.InternalConstants.General.paymentScreenName,e,s,a,i);return void 0!==n&&null!==n&&n>0&&(c.paymentTimeout=this.paymentTimeoutModel(n)),c.paymentDismiss=this.paymentDismissModel(),c}static paymentTimeoutModel(e){return new l(e,!0,i.timeoutTitle,i.timeoutMessage,i.timeoutActionButtonTitle,i.PAYMENT_TIMEOUT)}static paymentDismissModel(){return new h(!0,i.dismissTitle,i.dismissMessage,i.dismissPositiveButtonTitle,i.dismissNegativeButtonTitle,i.PAYMENT_DISMISS)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OriginInfo=class{constructor(e){this.analyticsInfo=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(41),i=n(40),o=n(6),s=n(8),a=n(39);var c=s.ExternalPaymentsNamespace.Constant;t.ExternalNavigationFactory=class{static genericPaymentNavigationRequest(e,t){const n=i.ExternalPaymentsRequestFactory.genericMicroPayRequest(e,t),r=i.ExternalPaymentsRequestFactory.genericPaymentUiConfig();return new o.GenericPaymentNavigationRequest("Pay","Pay",!0,!1,s.ExternalPaymentsNamespace.PAYMENT_MODE.MODE_SEND_MONEY,n,s.ExternalPaymentsNamespace.TRANSACTION_TYPE.SENT_PAYMENT,r)}static paymentNavigationRequest(e,t,n,u,l,h,d){let g=t[s.ExternalPaymentsNamespace.Constant.kPayableAmount],p=t[s.ExternalPaymentsNamespace.Constant.kValidFor];p&&(p*=1e3);let f=t[c.kMerchantId],P=i.ExternalPaymentsRequestFactory.internalPaymentUIConfig(g,e,p,l,d,f),m=i.ExternalPaymentsRequestFactory.microPayRequest(t,n,u),y=new o.PaymentMetaData([{}]);if(void 0!==h){let e=[];for(let t of h)for(let n in t)if(t.hasOwnProperty(n)){let r=n,i=t[n],o={};o[c.kKey]=r,o[c.kValue]=i,e.push(o)}y.details=e}let v=t[c.kServiceCategory];v||(v="JSSDK");let E=new r.OriginInfo(new a.AnalyticsInfo(v,v+"_NAVIGATE_TO_PAYMENTS",Math.random().toString(36).substring(7)));return new o.PaymentNavigationRequest("Pay","Pay",!0,!1,s.ExternalPaymentsNamespace.PAYMENT_MODE.MODE_SEND_MONEY,m,P,s.ExternalPaymentsNamespace.TRANSACTION_TYPE.SENT_PAYMENT,y,E)}static transactionDetailRequest(e){let t=new r.OriginInfo(new a.AnalyticsInfo("JSSDK","JSSDK_NAVIGATE_TO_TRANSACTION_DETAILS",Math.random().toString(36).substring(7)));return new o.TransactionDetailsNavigationRequest("Details","Details",!0,!1,e,s.ExternalPaymentsNamespace.TRANSACTION_TYPE.SENT_PAYMENT,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),i=n(5),o=n(1);var s=n(2).InternalConstants.PermissionsBridge;t.WebPermissionsBridge=class{constructor(e){this.operatingSystem=e}seekPermission(e){let t=i.PhonePeUtils.osSpecificPermissionNames(e,this.operatingSystem);return new Promise((e,n)=>{o.MessagingHandler.storePromiseAndCallNative(s.seekPermission,s.name,{permissions:t}).then(t=>{if(r.Logger.logd("PhonePe","Unstripped response = "+JSON.stringify(t)),"string"==typeof t){let n=JSON.parse(t);n.forEach(e=>{let t=i.PhonePeUtils.strippedPermissionName(e[s.kPermission],this.operatingSystem);e[s.kPermission]=t}),r.Logger.logd("PhonePe","Stripped response = "+JSON.stringify(n)),e(n)}else n("Wrong response sent by PhonePe")}).catch(e=>{n(e)})})}openSettingsPageForPermission(){return o.MessagingHandler.storePromiseAndCallNative(s.openSettingsPage,s.name,{})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(43),i=n(0);t.NativePermissionsBridgeFactory=class{static getPermissionsBridge(e,t){if(e===i.ExternalConstants.Species.web)return new r.WebPermissionsBridge(t);throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2);var o=i.InternalConstants.AnalyticsBridge;t.WebNativeAnalyticsBridge=class{logMerchantEvent(e,t){return r.MessagingHandler.storePromiseAndCallNative(o.methodName,o.bridgeName,this.objectForAnalytics(e,t))}objectForAnalytics(e,t){let n={};return n[i.InternalConstants.AnalyticsBridge.kName]=e,t&&(n[i.InternalConstants.AnalyticsBridge.kMetadata]=t),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(45),i=n(0);t.NativeAnalyticsBridgeFactory=class{static getNativeAnalyticsBridge(e,t){if(e===i.ExternalConstants.Species.web)return new r.WebNativeAnalyticsBridge;throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2).InternalConstants.AuthBridge;t.WebNativeOAuthBridge=class{fetchGrantToken(){return new Promise((e,t)=>{r.MessagingHandler.storePromiseAndCallNative(i.fetchGrantToken,i.bridgeName,{}).then(t=>{e(JSON.parse(t))}).catch(e=>{t(e)})})}fetchAuthToken(){return new Promise((e,t)=>{r.MessagingHandler.storePromiseAndCallNative(i.fetchAuthToken,i.bridgeName,{}).then(t=>{e(JSON.parse(t))}).catch(e=>{t(e)})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(47),i=n(0);t.NativeOAuthBridgeFactory=class{static bridge(e){if(e===i.ExternalConstants.Species.web)return new r.WebNativeOAuthBridge;throw new Error("Wrong species sent")}}}]);